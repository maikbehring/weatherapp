[build]
  command = "pnpm run build"
  publish = ".tanstack/start/build"

[build.environment]
  NETLIFY_USE_PNPM = "true"

[functions]
  directory = ".netlify/functions-internal"
  node_bundler = "esbuild"
  external_node_modules = ["@reduxjs/toolkit", "react-redux"]

# Attach edge function to inject CSP headers for every response (static + SSR).
[[edge_functions]]
  function = "frame-security"
  path = "/*"

